{"failedCount":12,"prefixedPath":"src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature","packageQualifiedName":"src.test.java.org.springframework.api_tests.listener_productOrderStateChangeEvent_post","loopIndex":-1,"relativePath":"src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2273900,"startTime":1717578584323,"endTime":1717578584325,"millis":2.2739,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":789200,"startTime":1717578584326,"endTime":1717578584327,"millis":0.7892,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":694700,"startTime":1717578584327,"endTime":1717578584328,"millis":0.6947,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":31860500,"startTime":1717578584328,"endTime":1717578584360,"millis":31.8605,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2021-10-26T17:53:25.497-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"-1\",\"description\":\"O Equipamento já está em uso por outro cliente\",\"lostEquipment\":\"True\",\"resource\":{\"fiberPath\":{\"items\":\"\"}}}}}"}},{"result":{"nanos":1125133700,"startTime":1717578584359,"endTime":1717578585484,"millis":1125.1337,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:44.982 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 343\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2021-10-26T17:53:25.497-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"-1\",\"description\":\"O Equipamento já está em uso por outro cliente\",\"lostEquipment\":\"True\",\"resource\":{\"fiberPath\":{\"items\":\"\"}}}}}\n\n14:39:45.483 response time in milliseconds: 495\n1 < 400\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\",\"body\",\"notification\",\"date\"],\"severity\":\"Error\",\"code\":\"maxLength\",\"message\":\"Request body property notification.date must NOT have more than 25 characters\"}]\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Content-Length: 0\n\n\n"},{"result":{"nanos":6596000,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 495, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585484,"endTime":1717578585491,"millis":6.596,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.491 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 495, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585491,"endTime":1717578585491,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":1167.348,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 495, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578584323,"refId":"[1.1:25]","endTime":1717578585491,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2021-10-26T17:53:25.497-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"-1\",\"description\":\"O Equipamento já está em uso por outro cliente\",\"lostEquipment\":\"True\",\"resource\":{\"fiberPath\":{\"items\":\"\"}}}}}","statusCode":"200"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":1938700,"startTime":1717578585497,"endTime":1717578585499,"millis":1.9387,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":260800,"startTime":1717578585499,"endTime":1717578585499,"millis":0.2608,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":605800,"startTime":1717578585499,"endTime":1717578585500,"millis":0.6058,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":582100,"startTime":1717578585500,"endTime":1717578585501,"millis":0.5821,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2021-09-29T18:42:24.641-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Cancelamento\",\"code\":\"2\",\"description\":\"Ordem cancelada\"}}}"}},{"result":{"nanos":26325300,"startTime":1717578585500,"endTime":1717578585526,"millis":26.3253,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.503 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 248\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2021-09-29T18:42:24.641-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Cancelamento\",\"code\":\"2\",\"description\":\"Ordem cancelada\"}}}\n\n14:39:45.526 response time in milliseconds: 20\n1 < 400\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\",\"body\",\"notification\",\"date\"],\"severity\":\"Error\",\"code\":\"maxLength\",\"message\":\"Request body property notification.date must NOT have more than 25 characters\"}]\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Content-Length: 0\n\n\n"},{"result":{"nanos":176400,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 20, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585528,"endTime":1717578585528,"millis":0.1764,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.529 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 20, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585529,"endTime":1717578585529,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":29.8891,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 20, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585497,"refId":"[1.2:25]","endTime":1717578585529,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2021-09-29T18:42:24.641-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Cancelamento\",\"code\":\"2\",\"description\":\"Ordem cancelada\"}}}","statusCode":"200"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":616500,"startTime":1717578585536,"endTime":1717578585537,"millis":0.6165,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":234700,"startTime":1717578585536,"endTime":1717578585536,"millis":0.2347,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":62400,"startTime":1717578585537,"endTime":1717578585537,"millis":0.0624,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":864600,"startTime":1717578585537,"endTime":1717578585538,"millis":0.8646,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2022-12-26T12:15:35.174-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"BA de campo encerrado com sucesso\",\"resource\":{\"gponAccess\":\"A000009QS\",\"devices\":{\"device\":[{\"category\":\"ONT\",\"type\":\"PhsysicalResource\",\"description\":\"Equipment - ONT device\",\"state\":\"completed\",\"usageState\":\"active\",\"startOperatingDate\":\"2022-12-26T12:15:35.174-03:00\",\"resourceCharacteristic\":[{\"name\":\"serialNumber\",\"value\":\"0251990119989\"},{\"name\":\"firmware\",\"value\":\"FW-XPTO-123\"},{\"name\":\"manufacturer\",\"value\":\"Sagemcom\"},{\"name\":\"model\",\"value\":\"F@ST 5340 TFN\"}]}]},\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}"}},{"result":{"nanos":23296100,"startTime":1717578585537,"endTime":1717578585560,"millis":23.2961,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.539 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 1207\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2022-12-26T12:15:35.174-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"BA de campo encerrado com sucesso\",\"resource\":{\"gponAccess\":\"A000009QS\",\"devices\":{\"device\":[{\"category\":\"ONT\",\"type\":\"PhsysicalResource\",\"description\":\"Equipment - ONT device\",\"state\":\"completed\",\"usageState\":\"active\",\"startOperatingDate\":\"2022-12-26T12:15:35.174-03:00\",\"resourceCharacteristic\":[{\"name\":\"serialNumber\",\"value\":\"0251990119989\"},{\"name\":\"firmware\",\"value\":\"FW-XPTO-123\"},{\"name\":\"manufacturer\",\"value\":\"Sagemcom\"},{\"name\":\"model\",\"value\":\"F@ST 5340 TFN\"}]}]},\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\\\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}\n\n14:39:45.559 response time in milliseconds: 19\n1 < 400\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\",\"body\",\"notification\",\"date\"],\"severity\":\"Error\",\"code\":\"maxLength\",\"message\":\"Request body property notification.date must NOT have more than 25 characters\"}]\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Content-Length: 0\n\n\n"},{"result":{"nanos":143700,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 19, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585561,"endTime":1717578585561,"millis":0.1437,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.561 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 19, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585561,"endTime":1717578585561,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":25.218,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 19, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585536,"refId":"[1.3:25]","endTime":1717578585561,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2022-12-26T12:15:35.174-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"BA de campo encerrado com sucesso\",\"resource\":{\"gponAccess\":\"A000009QS\",\"devices\":{\"device\":[{\"category\":\"ONT\",\"type\":\"PhsysicalResource\",\"description\":\"Equipment - ONT device\",\"state\":\"completed\",\"usageState\":\"active\",\"startOperatingDate\":\"2022-12-26T12:15:35.174-03:00\",\"resourceCharacteristic\":[{\"name\":\"serialNumber\",\"value\":\"0251990119989\"},{\"name\":\"firmware\",\"value\":\"FW-XPTO-123\"},{\"name\":\"manufacturer\",\"value\":\"Sagemcom\"},{\"name\":\"model\",\"value\":\"F@ST 5340 TFN\"}]}]},\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}","statusCode":"200"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":406800,"startTime":1717578585567,"endTime":1717578585567,"millis":0.4068,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":163300,"startTime":1717578585568,"endTime":1717578585568,"millis":0.1633,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":63900,"startTime":1717578585568,"endTime":1717578585568,"millis":0.0639,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":723000,"startTime":1717578585568,"endTime":1717578585569,"millis":0.723,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2020-12-16T10:09:31-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"Ordem encerrada com sucesso.\",\"lostEquipment\":\"True\",\"resource\":{\"gponAccess\":\"A000009QS\",\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}"}},{"result":{"nanos":28187500,"startTime":1717578585569,"endTime":1717578585597,"millis":28.1875,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.571 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 817\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2020-12-16T10:09:31-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"Ordem encerrada com sucesso.\",\"lostEquipment\":\"True\",\"resource\":{\"gponAccess\":\"A000009QS\",\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\\\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}\n\n14:39:45.595 response time in milliseconds: 24\n1 < 204\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < Content-type: text\/plain\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n\n\n"},{"result":{"nanos":172300,"errorMessage":"status code was: 204, expected: 200, response time in milliseconds: 24, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585598,"endTime":1717578585598,"millis":0.1723,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.599 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 204, expected: 200, response time in milliseconds: 24, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585599,"endTime":1717578585599,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":29.7168,"failed":true,"error":"status code was: 204, expected: 200, response time in milliseconds: 24, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585567,"refId":"[1.4:25]","endTime":1717578585599,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2020-12-16T10:09:31-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"Ordem encerrada com sucesso.\",\"lostEquipment\":\"True\",\"resource\":{\"gponAccess\":\"A000009QS\",\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}","statusCode":"200"},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":938700,"startTime":1717578585607,"endTime":1717578585608,"millis":0.9387,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":188900,"startTime":1717578585608,"endTime":1717578585608,"millis":0.1889,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":95200,"startTime":1717578585608,"endTime":1717578585608,"millis":0.0952,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":530200,"startTime":1717578585608,"endTime":1717578585609,"millis":0.5302,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2021-10-26T17:53:25.497-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"-1\",\"description\":\"O Equipamento já está em uso por outro cliente\",\"lostEquipment\":\"True\",\"resource\":{\"fiberPath\":{\"items\":\"\"}}}}}"}},{"result":{"nanos":19966200,"startTime":1717578585609,"endTime":1717578585629,"millis":19.9662,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.611 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 343\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2021-10-26T17:53:25.497-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"-1\",\"description\":\"O Equipamento já está em uso por outro cliente\",\"lostEquipment\":\"True\",\"resource\":{\"fiberPath\":{\"items\":\"\"}}}}}\n\n14:39:45.627 response time in milliseconds: 16\n1 < 400\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\",\"body\",\"notification\",\"date\"],\"severity\":\"Error\",\"code\":\"maxLength\",\"message\":\"Request body property notification.date must NOT have more than 25 characters\"}]\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Content-Length: 0\n\n\n"},{"result":{"nanos":131100,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 16, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585629,"endTime":1717578585629,"millis":0.1311,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.629 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 16, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585629,"endTime":1717578585629,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":21.8503,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 16, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585607,"refId":"[1.5:25]","endTime":1717578585629,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2021-10-26T17:53:25.497-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"-1\",\"description\":\"O Equipamento já está em uso por outro cliente\",\"lostEquipment\":\"True\",\"resource\":{\"fiberPath\":{\"items\":\"\"}}}}}","statusCode":"200"},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":575600,"startTime":1717578585638,"endTime":1717578585639,"millis":0.5756,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":123100,"startTime":1717578585639,"endTime":1717578585639,"millis":0.1231,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":64200,"startTime":1717578585639,"endTime":1717578585639,"millis":0.0642,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":634900,"startTime":1717578585639,"endTime":1717578585640,"millis":0.6349,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2021-09-29T18:42:24.641-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Cancelamento\",\"code\":\"2\",\"description\":\"Ordem cancelada\"}}}"}},{"result":{"nanos":20006100,"startTime":1717578585640,"endTime":1717578585660,"millis":20.0061,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.642 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 248\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2021-09-29T18:42:24.641-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Cancelamento\",\"code\":\"2\",\"description\":\"Ordem cancelada\"}}}\n\n14:39:45.659 response time in milliseconds: 16\n1 < 400\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\",\"body\",\"notification\",\"date\"],\"severity\":\"Error\",\"code\":\"maxLength\",\"message\":\"Request body property notification.date must NOT have more than 25 characters\"}]\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Content-Length: 0\n\n\n"},{"result":{"nanos":126100,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 16, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585659,"endTime":1717578585659,"millis":0.1261,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.660 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 16, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585660,"endTime":1717578585660,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":21.53,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 16, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585638,"refId":"[1.6:25]","endTime":1717578585660,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2021-09-29T18:42:24.641-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Cancelamento\",\"code\":\"2\",\"description\":\"Ordem cancelada\"}}}","statusCode":"200"},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":630600,"startTime":1717578585671,"endTime":1717578585672,"millis":0.6306,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":89700,"startTime":1717578585671,"endTime":1717578585671,"millis":0.0897,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":58800,"startTime":1717578585672,"endTime":1717578585672,"millis":0.0588,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":825100,"startTime":1717578585672,"endTime":1717578585673,"millis":0.8251,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2022-12-26T12:15:35.174-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"BA de campo encerrado com sucesso\",\"resource\":{\"gponAccess\":\"A000009QS\",\"devices\":{\"device\":[{\"category\":\"ONT\",\"type\":\"PhsysicalResource\",\"description\":\"Equipment - ONT device\",\"state\":\"completed\",\"usageState\":\"active\",\"startOperatingDate\":\"2022-12-26T12:15:35.174-03:00\",\"resourceCharacteristic\":[{\"name\":\"serialNumber\",\"value\":\"0251990119989\"},{\"name\":\"firmware\",\"value\":\"FW-XPTO-123\"},{\"name\":\"manufacturer\",\"value\":\"Sagemcom\"},{\"name\":\"model\",\"value\":\"F@ST 5340 TFN\"}]}]},\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}"}},{"result":{"nanos":22101300,"startTime":1717578585673,"endTime":1717578585695,"millis":22.1013,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.675 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 1207\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2022-12-26T12:15:35.174-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"BA de campo encerrado com sucesso\",\"resource\":{\"gponAccess\":\"A000009QS\",\"devices\":{\"device\":[{\"category\":\"ONT\",\"type\":\"PhsysicalResource\",\"description\":\"Equipment - ONT device\",\"state\":\"completed\",\"usageState\":\"active\",\"startOperatingDate\":\"2022-12-26T12:15:35.174-03:00\",\"resourceCharacteristic\":[{\"name\":\"serialNumber\",\"value\":\"0251990119989\"},{\"name\":\"firmware\",\"value\":\"FW-XPTO-123\"},{\"name\":\"manufacturer\",\"value\":\"Sagemcom\"},{\"name\":\"model\",\"value\":\"F@ST 5340 TFN\"}]}]},\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\\\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}\n\n14:39:45.693 response time in milliseconds: 17\n1 < 400\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\",\"body\",\"notification\",\"date\"],\"severity\":\"Error\",\"code\":\"maxLength\",\"message\":\"Request body property notification.date must NOT have more than 25 characters\"}]\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Content-Length: 0\n\n\n"},{"result":{"nanos":139300,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 17, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585695,"endTime":1717578585695,"millis":0.1393,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.695 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 17, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585695,"endTime":1717578585695,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":23.8448,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 17, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585670,"refId":"[1.7:25]","endTime":1717578585695,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2022-12-26T12:15:35.174-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"BA de campo encerrado com sucesso\",\"resource\":{\"gponAccess\":\"A000009QS\",\"devices\":{\"device\":[{\"category\":\"ONT\",\"type\":\"PhsysicalResource\",\"description\":\"Equipment - ONT device\",\"state\":\"completed\",\"usageState\":\"active\",\"startOperatingDate\":\"2022-12-26T12:15:35.174-03:00\",\"resourceCharacteristic\":[{\"name\":\"serialNumber\",\"value\":\"0251990119989\"},{\"name\":\"firmware\",\"value\":\"FW-XPTO-123\"},{\"name\":\"manufacturer\",\"value\":\"Sagemcom\"},{\"name\":\"model\",\"value\":\"F@ST 5340 TFN\"}]}]},\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}","statusCode":"200"},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":505000,"startTime":1717578585701,"endTime":1717578585702,"millis":0.505,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":86800,"startTime":1717578585701,"endTime":1717578585701,"millis":0.0868,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":198000,"startTime":1717578585701,"endTime":1717578585701,"millis":0.198,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":636900,"startTime":1717578585702,"endTime":1717578585703,"millis":0.6369,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2020-12-16T10:09:31-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"Ordem encerrada com sucesso.\",\"lostEquipment\":\"True\",\"resource\":{\"gponAccess\":\"A000009QS\",\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}"}},{"result":{"nanos":18971700,"startTime":1717578585702,"endTime":1717578585721,"millis":18.9717,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.705 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 817\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2020-12-16T10:09:31-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"Ordem encerrada com sucesso.\",\"lostEquipment\":\"True\",\"resource\":{\"gponAccess\":\"A000009QS\",\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\\\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}\n\n14:39:45.721 response time in milliseconds: 15\n1 < 204\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < Content-type: text\/plain\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n\n\n"},{"result":{"nanos":126200,"errorMessage":"status code was: 204, expected: 200, response time in milliseconds: 15, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585722,"endTime":1717578585722,"millis":0.1262,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.722 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 204, expected: 200, response time in milliseconds: 15, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585723,"endTime":1717578585723,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":20.5246,"failed":true,"error":"status code was: 204, expected: 200, response time in milliseconds: 15, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585701,"refId":"[1.8:25]","endTime":1717578585723,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2020-12-16T10:09:31-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"Ordem encerrada com sucesso.\",\"lostEquipment\":\"True\",\"resource\":{\"gponAccess\":\"A000009QS\",\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}","statusCode":"200"},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":682400,"startTime":1717578585730,"endTime":1717578585731,"millis":0.6824,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":122400,"startTime":1717578585732,"endTime":1717578585732,"millis":0.1224,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":92800,"startTime":1717578585732,"endTime":1717578585732,"millis":0.0928,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":783800,"startTime":1717578585732,"endTime":1717578585733,"millis":0.7838,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2021-10-26T17:53:25.497-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"-1\",\"description\":\"O Equipamento já está em uso por outro cliente\",\"lostEquipment\":\"True\",\"resource\":{\"fiberPath\":{\"items\":\"\"}}}}}"}},{"result":{"nanos":21257400,"startTime":1717578585733,"endTime":1717578585754,"millis":21.2574,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.735 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 343\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2021-10-26T17:53:25.497-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"-1\",\"description\":\"O Equipamento já está em uso por outro cliente\",\"lostEquipment\":\"True\",\"resource\":{\"fiberPath\":{\"items\":\"\"}}}}}\n\n14:39:45.753 response time in milliseconds: 18\n1 < 400\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\",\"body\",\"notification\",\"date\"],\"severity\":\"Error\",\"code\":\"maxLength\",\"message\":\"Request body property notification.date must NOT have more than 25 characters\"}]\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Content-Length: 0\n\n\n"},{"result":{"nanos":129200,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 18, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585754,"endTime":1717578585754,"millis":0.1292,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.754 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 18, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585754,"endTime":1717578585754,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":23.068,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 18, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585730,"refId":"[1.9:25]","endTime":1717578585754,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2021-10-26T17:53:25.497-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"-1\",\"description\":\"O Equipamento já está em uso por outro cliente\",\"lostEquipment\":\"True\",\"resource\":{\"fiberPath\":{\"items\":\"\"}}}}}","statusCode":"200"},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":344800,"startTime":1717578585760,"endTime":1717578585760,"millis":0.3448,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":77900,"startTime":1717578585760,"endTime":1717578585760,"millis":0.0779,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":52900,"startTime":1717578585760,"endTime":1717578585760,"millis":0.0529,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":762800,"startTime":1717578585761,"endTime":1717578585762,"millis":0.7628,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2021-09-29T18:42:24.641-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Cancelamento\",\"code\":\"2\",\"description\":\"Ordem cancelada\"}}}"}},{"result":{"nanos":16021400,"startTime":1717578585761,"endTime":1717578585777,"millis":16.0214,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.764 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 248\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2021-09-29T18:42:24.641-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Cancelamento\",\"code\":\"2\",\"description\":\"Ordem cancelada\"}}}\n\n14:39:45.777 response time in milliseconds: 11\n1 < 400\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\",\"body\",\"notification\",\"date\"],\"severity\":\"Error\",\"code\":\"maxLength\",\"message\":\"Request body property notification.date must NOT have more than 25 characters\"}]\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Content-Length: 0\n\n\n"},{"result":{"nanos":138700,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 11, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585778,"endTime":1717578585778,"millis":0.1387,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.778 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 11, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585778,"endTime":1717578585778,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":17.3985,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 11, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585760,"refId":"[1.10:25]","endTime":1717578585778,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2021-09-29T18:42:24.641-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Cancelamento\",\"code\":\"2\",\"description\":\"Ordem cancelada\"}}}","statusCode":"200"},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":545100,"startTime":1717578585785,"endTime":1717578585786,"millis":0.5451,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":223800,"startTime":1717578585785,"endTime":1717578585785,"millis":0.2238,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":68500,"startTime":1717578585785,"endTime":1717578585785,"millis":0.0685,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":832100,"startTime":1717578585785,"endTime":1717578585786,"millis":0.8321,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2022-12-26T12:15:35.174-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"BA de campo encerrado com sucesso\",\"resource\":{\"gponAccess\":\"A000009QS\",\"devices\":{\"device\":[{\"category\":\"ONT\",\"type\":\"PhsysicalResource\",\"description\":\"Equipment - ONT device\",\"state\":\"completed\",\"usageState\":\"active\",\"startOperatingDate\":\"2022-12-26T12:15:35.174-03:00\",\"resourceCharacteristic\":[{\"name\":\"serialNumber\",\"value\":\"0251990119989\"},{\"name\":\"firmware\",\"value\":\"FW-XPTO-123\"},{\"name\":\"manufacturer\",\"value\":\"Sagemcom\"},{\"name\":\"model\",\"value\":\"F@ST 5340 TFN\"}]}]},\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}"}},{"result":{"nanos":19484800,"startTime":1717578585786,"endTime":1717578585805,"millis":19.4848,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.789 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 1207\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2022-12-26T12:15:35.174-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"BA de campo encerrado com sucesso\",\"resource\":{\"gponAccess\":\"A000009QS\",\"devices\":{\"device\":[{\"category\":\"ONT\",\"type\":\"PhsysicalResource\",\"description\":\"Equipment - ONT device\",\"state\":\"completed\",\"usageState\":\"active\",\"startOperatingDate\":\"2022-12-26T12:15:35.174-03:00\",\"resourceCharacteristic\":[{\"name\":\"serialNumber\",\"value\":\"0251990119989\"},{\"name\":\"firmware\",\"value\":\"FW-XPTO-123\"},{\"name\":\"manufacturer\",\"value\":\"Sagemcom\"},{\"name\":\"model\",\"value\":\"F@ST 5340 TFN\"}]}]},\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\\\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}\n\n14:39:45.805 response time in milliseconds: 16\n1 < 400\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < sl-violations: [{\"location\":[\"request\",\"body\",\"notification\",\"date\"],\"severity\":\"Error\",\"code\":\"maxLength\",\"message\":\"Request body property notification.date must NOT have more than 25 characters\"}]\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n1 < Content-Length: 0\n\n\n"},{"result":{"nanos":134400,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 16, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585806,"endTime":1717578585806,"millis":0.1344,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.806 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 400, expected: 200, response time in milliseconds: 16, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585806,"endTime":1717578585806,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":21.2887,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 16, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585784,"refId":"[1.11:25]","endTime":1717578585806,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2022-12-26T12:15:35.174-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"BA de campo encerrado com sucesso\",\"resource\":{\"gponAccess\":\"A000009QS\",\"devices\":{\"device\":[{\"category\":\"ONT\",\"type\":\"PhsysicalResource\",\"description\":\"Equipment - ONT device\",\"state\":\"completed\",\"usageState\":\"active\",\"startOperatingDate\":\"2022-12-26T12:15:35.174-03:00\",\"resourceCharacteristic\":[{\"name\":\"serialNumber\",\"value\":\"0251990119989\"},{\"name\":\"firmware\",\"value\":\"FW-XPTO-123\"},{\"name\":\"manufacturer\",\"value\":\"Sagemcom\"},{\"name\":\"model\",\"value\":\"F@ST 5340 TFN\"}]}]},\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}","statusCode":"200"},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":335000,"startTime":1717578585809,"endTime":1717578585809,"millis":0.335,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":0,"text":"def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http:\/\/localhost:4010')"}},{"result":{"nanos":63900,"startTime":1717578585810,"endTime":1717578585810,"millis":0.0639,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":1,"text":"url urlBase"}},{"result":{"nanos":39800,"startTime":1717578585810,"endTime":1717578585810,"millis":0.0398,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"path '\/listener\/productOrderStateChangeEvent'"}},{"result":{"nanos":468600,"startTime":1717578585810,"endTime":1717578585810,"millis":0.4686,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request {\"notification\":{\"date\":\"2020-12-16T10:09:31-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"Ordem encerrada com sucesso.\",\"lostEquipment\":\"True\",\"resource\":{\"gponAccess\":\"A000009QS\",\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}"}},{"result":{"nanos":15542300,"startTime":1717578585810,"endTime":1717578585826,"millis":15.5423,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method post"},"stepLog":"14:39:45.813 request:\n1 > POST http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 817\n1 > Host: localhost:4010\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.10)\n1 > Accept-Encoding: gzip,deflate\n{\"notification\":{\"date\":\"2020-12-16T10:09:31-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"Ordem encerrada com sucesso.\",\"lostEquipment\":\"True\",\"resource\":{\"gponAccess\":\"A000009QS\",\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\\\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}\n\n14:39:45.822 response time in milliseconds: 9\n1 < 204\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Expose-Headers: *\n1 < Content-type: text\/plain\n1 < Date: Wed, 05 Jun 2024 09:09:45 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n\n\n"},{"result":{"nanos":117600,"errorMessage":"status code was: 204, expected: 200, response time in milliseconds: 9, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","startTime":1717578585827,"endTime":1717578585827,"millis":0.1176,"status":"failed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"14:39:45.827 src\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\nThen status 200\nstatus code was: 204, expected: 200, response time in milliseconds: 9, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21\n"},{"result":{"nanos":0,"startTime":1717578585827,"endTime":1717578585827,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":4,"text":"match response contains {description: '#(description)'}"}}],"line":25,"description":"","durationMillis":16.5672,"failed":true,"error":"status code was: 204, expected: 200, response time in milliseconds: 9, url: http:\/\/localhost:4010\/listener\/productOrderStateChangeEvent, response: \n\nsrc\/test\/java\/org\/springframework\/api_tests\/listener_productOrderStateChangeEvent_post.feature:21","executorName":"main","name":"Validate state change event by client","startTime":1717578585809,"refId":"[1.12:25]","endTime":1717578585827,"exampleData":{"requestBody":"{\"notification\":{\"date\":\"2020-12-16T10:09:31-03:00\",\"customer\":{\"subscriberId\":\"234567654\"},\"order\":{\"id\":\"20230315000001\",\"correlationOrder\":\"10\",\"associatedDocument\":\"VTT001\",\"type\":\"Encerramento\",\"code\":\"0\",\"description\":\"Ordem encerrada com sucesso.\",\"lostEquipment\":\"True\",\"resource\":{\"gponAccess\":\"A000009QS\",\"fiberPath\":{\"items\":{\"item\":[{\"name\":\"enderecoCDO\",\"value\":\"RUA GENERAL RENATO PAQUET, 199, BARRA DA TIJUCA, RIO DE JANEIRO - RJ 22793913\"},{\"name\":\"producer_olt\",\"value\":\"HUAWEI\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.O:45\"},{\"name\":\"CDO\",\"value\":\"CDOI-4704-PTP.FO.I:S32_2_IN 1\"},{\"name\":\"estacao\",\"value\":\"BEL\"},{\"name\":\"cnl\",\"value\":\"CBF\"},{\"name\":\"olt\",\"value\":\"MA-CTO04-GHUA\"},{\"name\":\"primaryCable\",\"value\":\"MA.CTO.F-7.CEO-15\/1\"},{\"name\":\"secondaryCable\",\"value\":\"MA.CTO.F-7.CEOS-165\"}]}}}}}}}","statusCode":"200"},"exampleIndex":11}],"callDepth":0,"name":"State Change Event By Client","description":"","resultDate":"2024-06-05 02:39:45 pm","durationMillis":1418.244,"passedCount":0}