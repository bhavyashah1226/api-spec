{"openapi":"3.0.1","info":{"title":"Service Test Management","version":"2.0.0"},"tags":[{"name":"ServiceTest"},{"name":"Notification"}],"paths":{"/serviceTest":{"post":{"tags":["ServiceTest"],"summary":"Request Opening Service Test","operationId":"Request Opening Service Test","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/serviceTestRequest"},"examples":{"Diagnostic":{"value":{"serviceTest":{"type":"diagnostic","customer":{"subscriberId":"SVTAL001"}}}}}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/serviceTestResponse"},"example":{"control":{"type":"S","code":"200","message":"OK"},"serviceTest":{"id":"22119329-13de-41da-9255-eb3e1606b449"}}}}},"400":{"$ref":"#/components/responses/BadRequest"},"401":{"$ref":"#/components/responses/Unauthorized"},"403":{"$ref":"#/components/responses/Forbidden"},"404":{"$ref":"#/components/responses/NotFound"},"406":{"$ref":"#/components/responses/NotAcceptable"},"429":{"$ref":"#/components/responses/TooManyRequests"},"500":{"$ref":"#/components/responses/ServerError"},"503":{"$ref":"#/components/responses/Unavailable"},"504":{"$ref":"#/components/responses/Timeout"}}}},"/listener/serviceTestResultEvent":{"post":{"tags":["Notification"],"summary":"State Change Event","operationId":"State Change Event","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/notificationEvent"},"examples":{"Notification Diagnostic - state:IN_PROGRESS":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"serviceTest":{"id":"22119329-13de-41da-9255-eb3e1606b449","type":"diagnostic","startDate":"2023-05-24T14:38:19-03","state":"IN_PROGRESS","diagnostic":{"code":"NOK","messages":[{"errorCode":1,"description":"Foram identificados problemas e serão executadas ações de correção"}]}}}}},"Notification Diagnostic - state:NOT_FOUND":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"serviceTest":{"id":"22119329-13de-41da-9255-eb3e1606b449","type":"diagnostic","startDate":"2023-05-24T11:50:15-03","endDate":"2023-05-24T11:50:15-03","state":"NOT_FOUND"}}}},"Notification Diagnostic - state:INVENTORY_FAULT":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"serviceTest":{"id":"22119329-13de-41da-9255-eb3e1606b449","type":"diagnostic","startDate":"2023-05-24T11:50:15-03","endDate":"2023-05-24T11:50:15-03","state":"INVENTORY_FAULT"}}}},"Notification Diagnostic - state:FINISHED code:OK (without messages)":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"serviceTest":{"id":"22119329-13de-41da-9255-eb3e1606b449","type":"diagnostic","startDate":"2023-05-25T17:20:03-03","endDate":"2023-05-25T17:21:26-03","state":"FINISHED","diagnostic":{"code":"OK","messages":[]},"hintOperations":{"actions":[{"type":"Instruir o Cliente","hintType":"MANUAL"}]},"result":{"services":[{"perfil":"600 MBPS"}],"devices":[{"idGPON":"1-ONXK7","operationalState":"Up","administrativeState":"active","lastHour":"04/11/2022 00:47","vendor":"ALCL","model":"NOCLEICODEG1425GA","serialNumber":"ALCLFBD32300","firmwareVersion":"3FE48077HJIJ86","hardware":"3FE48054BDAA01","temperature":"37","ontPowerTx":"2.162","ontPowerRx":"-21.366"}],"wan":[{"physicalState":"Up","receivedBytes":"7413166343","sendBytes":"496095715","uptimeHGW":"276338","internalClient":""}],"lan":{"devices":[{"addressingType":"","hostName":"deco_M5","ipAddress":"192.168.100.50","interfaceType":"Ethernet","macAddress":"24:76:7d:8a:50:49","type":"","vendor":"Cisco SPVTG","active":false}],"gates":[{"port":"1","active":true,"status":"Up","receivedBytes":"872342342","sendBytes":"3123123"},{"port":"2","active":true,"status":"Down","receivedBytes":"0","sendBytes":"0"}]},"wifi":[{"vendor":"Huawei Technologies Co., Ltd.","model":"HG8245W5-6T","serialNumber":"48575443961E0C9F","firmware":"V5R019C30S050","hardware":"","wlanConfiguration":[{"enable":true,"status":"Down","ssid":"DESCUBRA","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"11i","basicEncryptionModes":"None","wpaEncryptionModes":"AESEncryption","totalBytesReceived":"1072","totalBytesSent":"2522","maxBitRate":"Auto","channel":"4","channelMode":"Auto","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"2.4GHz","radioEnabled":true,"wifiIndex":"1","devices":[{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"S20-de-Jose","ipAddress":"192.168.100.4","macAddress":"8a:61:a5:58:ed:b5","vendor":"Samsung Electronics Co.,Ltd","active":true},{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"G60-LMF","ipAddress":"192.168.100.9","macAddress":"5a:44:b4:32:gh:w3","vendor":"","active":true}]},{"enable":true,"status":"Down","ssid":"ALHN-8597-4","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"WPAand11i","basicEncryptionModes":"None","wpaEncryptionModes":"TKIPandAESEncryption","totalBytesReceived":"0","totalBytesSent":"0","maxBitRate":"Auto","channel":"2","channelMode":"Manual","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"5.0GHz","radioEnabled":true,"wifiIndex":"10","devices":[{"frequencyBand":"5.0GHz","ssid":"ALHN-8597-4","addressSource":"DHCP","hostName":"TVLG-25578673","ipAddress":"192.168.100.10","macAddress":"3b:22:f5:21:wd:k9","vendor":"","active":true}]}]}],"nass":{"hsiLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/210","voipLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/220"},"bng":{"ipAddress":"179.67.227.148","macAddress":"78:17:35:f9:01:d1"}}}}}},"Notification Diagnostic - state:FINISHED code:OK (with messages)":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"serviceTest":{"id":"22119329-13de-41da-9255-eb3e1606b449","type":"diagnostic","startDate":"2023-05-07T20:55:11-03","endDate":"2023-05-07T20:55:23-03","state":"FINISHED","diagnostic":{"code":"OK","messages":[{"errorCode":"HGW_WIFI_02","description":"[42] Interface Wifi inativa. Necessário verificar com o cliente se a interface wifi deve ser ativada e proceder a ação se confirmado.","criticity":0}]},"result":{"services":[{"perfil":"600 MBPS"}],"orders":[{"id":22829,"associatedDocument":"R-312839"},{"id":22833,"associatedDocument":"R-312840"},{"id":23038,"associatedDocument":"R-312855"},{"id":23042,"associatedDocument":"R-312856"},{"id":23165,"associatedDocument":"R-31302"},{"id":23185,"associatedDocument":"R-31305"},{"id":23189,"associatedDocument":"R-31310"}],"devices":[{"idGPON":"1-ONXK7","operationalState":"Up","administrativeState":"active","lastHour":"04/11/2022 00:47","vendor":"ALCL","model":"NOCLEICODEG1425GA","serialNumber":"ALCLFBD32300","firmwareVersion":"3FE48077HJIJ86","hardware":"3FE48054BDAA01","temperature":"37","ontPowerTx":"2.162","ontPowerRx":"-21.366"}],"wan":[{"physicalState":"Up","receivedBytes":"7413166343","sendBytes":"496095715","uptimeHGW":"276338","internalClient":""}],"lan":{"devices":[{"addressingType":"","hostName":"deco_M5","ipAddress":"192.168.100.50","interfaceType":"Ethernet","macAddress":"24:76:7d:8a:50:49","type":"","vendor":"Cisco SPVTG","active":false}],"gates":[{"port":"1","active":true,"status":"Up","receivedBytes":"872342342","sendBytes":"3123123"},{"port":"2","active":true,"status":"Down","receivedBytes":"872342342","sendBytes":"3123123"}]},"wifi":[{"vendor":"Huawei Technologies Co., Ltd.","model":"HG8245W5-6T","serialNumber":"48575443961E0C9F","firmware":"V5R019C30S050","hardware":"","wlanConfiguration":[{"enable":true,"status":"Down","ssid":"DESCUBRA","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"11i","basicEncryptionModes":"None","wpaEncryptionModes":"AESEncryption","totalBytesReceived":"1072","totalBytesSent":"2522","maxBitRate":"Auto","channel":"4","channelMode":"Auto","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"2.4GHz","radioEnabled":true,"wifiIndex":"1","devices":[{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"S20-de-Jose","ipAddress":"192.168.100.4","macAddress":"8a:61:a5:58:ed:b5","vendor":"Samsung Electronics Co.,Ltd","active":true},{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"G60-LMF","ipAddress":"192.168.100.9","macAddress":"5a:44:b4:32:gh:w3","vendor":"","active":true}]},{"enable":true,"status":"Down","ssid":"ALHN-8597-4","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"WPAand11i","basicEncryptionModes":"None","wpaEncryptionModes":"TKIPandAESEncryption","totalBytesReceived":"0","totalBytesSent":"0","maxBitRate":"Auto","channel":"2","channelMode":"Manual","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"5.0GHz","radioEnabled":true,"wifiIndex":"10","devices":[{"frequencyBand":"5.0GHz","ssid":"ALHN-8597-4","addressSource":"DHCP","hostName":"TVLG-25578673","ipAddress":"192.168.100.10","macAddress":"3b:22:f5:21:wd:k9","vendor":"","active":true}]}]}],"nass":{"hsiLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/210","voipLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/220"},"bng":{"ipAddress":"179.67.227.148","macAddress":"78:17:35:f9:01:d1"}}}}}},"Notification Diagnostic - state:FINISHED code:OK (with OS)":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"serviceTest":{"id":"22119329-13de-41da-9255-eb3e1606b449","type":"diagnostic","startDate":"2023-05-07T20:55:11-03","endDate":"2023-05-07T20:55:23-03","state":"FINISHED","diagnostic":{"code":"OK","messages":[]},"result":{"services":[{"perfil":"600 MBPS"}],"orders":[{"id":22829,"associatedDocument":"R-312839"},{"id":22833,"associatedDocument":"R-312840"},{"id":23038,"associatedDocument":"R-312855"},{"id":23042,"associatedDocument":"R-312856"},{"id":23165,"associatedDocument":"R-31302"},{"id":23185,"associatedDocument":"R-31305"},{"id":23189,"associatedDocument":"R-31310"}],"devices":[{"idGPON":"1-ONXK7","operationalState":"Up","administrativeState":"active","lastHour":"04/11/2022 00:47","vendor":"ALCL","model":"NOCLEICODEG1425GA","serialNumber":"ALCLFBD32300","firmwareVersion":"3FE48077HJIJ86","hardware":"3FE48054BDAA01","temperature":"37","ontPowerTx":"2.162","ontPowerRx":"-21.366"}],"wan":[{"physicalState":"Up","receivedBytes":"7413166343","sendBytes":"496095715","uptimeHGW":"276338","internalClient":""}],"lan":{"devices":[{"addressingType":"","hostName":"deco_M5","ipAddress":"192.168.100.50","interfaceType":"Ethernet","macAddress":"24:76:7d:8a:50:49","type":"","vendor":"Cisco SPVTG","active":false}],"gates":[{"port":"1","active":true,"status":"Up","receivedBytes":"872342342","sendBytes":"3123123"},{"port":"2","active":true,"status":"Down","receivedBytes":"872342342","sendBytes":"3123123"}]},"wifi":[{"vendor":"Huawei Technologies Co., Ltd.","model":"HG8245W5-6T","serialNumber":"48575443961E0C9F","firmware":"V5R019C30S050","hardware":"","wlanConfiguration":[{"enable":true,"status":"Down","ssid":"DESCUBRA","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"11i","basicEncryptionModes":"None","wpaEncryptionModes":"AESEncryption","totalBytesReceived":"1072","totalBytesSent":"2522","maxBitRate":"Auto","channel":"4","channelMode":"Auto","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"2.4GHz","radioEnabled":true,"wifiIndex":"1","devices":[{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"S20-de-Jose","ipAddress":"192.168.100.4","macAddress":"8a:61:a5:58:ed:b5","vendor":"Samsung Electronics Co.,Ltd","active":true},{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"G60-LMF","ipAddress":"192.168.100.9","macAddress":"5a:44:b4:32:gh:w3","vendor":"","active":true}]},{"enable":true,"status":"Down","ssid":"ALHN-8597-4","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"WPAand11i","basicEncryptionModes":"None","wpaEncryptionModes":"TKIPandAESEncryption","totalBytesReceived":"0","totalBytesSent":"0","maxBitRate":"Auto","channel":"2","channelMode":"Manual","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"5.0GHz","radioEnabled":true,"wifiIndex":"10","devices":[{"frequencyBand":"5.0GHz","ssid":"ALHN-8597-4","addressSource":"DHCP","hostName":"TVLG-25578673","ipAddress":"192.168.100.10","macAddress":"3b:22:f5:21:wd:k9","vendor":"","active":true}]}]}],"nass":{"hsiLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/210","voipLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/220"},"bng":{"ipAddress":"179.67.227.148","macAddress":"78:17:35:f9:01:d1"}}}}}},"Notification Diagnostic - state:FINISHED code:NOK":{"value":{"notification":{"customer":{"subscriberId":"TesteFTTH002"},"serviceTest":{"id":"a84141b6-67c0-4103-b01b-f77e00e43b4e","type":"diagnostic","startDate":"2023-05-25T19:15:41-03","endDate":"2023-05-25T19:18:05-03","state":"FINISHED","diagnostic":{"code":"NOK","messages":[]},"hintOperations":{"actions":[{"type":"Abrir Chamado Tecnico","hintType'":"MANUAL"}]},"result":{"services":[{"perfil":"600 MBPS"}],"devices":[{"idGPON":"1-ONXK7","operationalState":"Up","administrativeState":"active","lastHour":"04/11/2022 00:47","vendor":"ALCL","model":"NOCLEICODEG1425GA","serialNumber":"ALCLFBD32300","firmwareVersion":"3FE48077HJIJ86","hardware":"3FE48054BDAA01","temperature":"37","ontPowerTx":"2.162","ontPowerRx":"-21.366"}],"wan":[{"physicalState":"Up","receivedBytes":"7413166343","sendBytes":"496095715","uptimeHGW":"276338","internalClient":""}],"lan":{"devices":[{"addressingType":"","hostName":"deco_M5","ipAddress":"192.168.100.50","interfaceType":"Ethernet","macAddress":"24:76:7d:8a:50:49","type":"","vendor":"Cisco SPVTG","active":false}],"gates":[{"port":"1","active":true,"status":"Up","receivedBytes":"872342342","sendBytes":"3123123"},{"port":"2","active":true,"status":"Down","receivedBytes":"872342342","sendBytes":"3123123"}]},"wifi":[{"vendor":"Huawei Technologies Co., Ltd.","model":"HG8245W5-6T","serialNumber":"48575443961E0C9F","firmware":"V5R019C30S050","hardware":"","wlanConfiguration":[{"enable":true,"status":"Down","ssid":"DESCUBRA","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"11i","basicEncryptionModes":"None","wpaEncryptionModes":"AESEncryption","totalBytesReceived":"1072","totalBytesSent":"2522","maxBitRate":"Auto","channel":"4","channelMode":"Auto","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"2.4GHz","radioEnabled":true,"wifiIndex":"1","devices":[{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"S20-de-Jose","ipAddress":"192.168.100.4","macAddress":"8a:61:a5:58:ed:b5","vendor":"Samsung Electronics Co.,Ltd","active":true},{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"G60-LMF","ipAddress":"192.168.100.9","macAddress":"5a:44:b4:32:gh:w3","vendor":"","active":true}]},{"enable":true,"status":"Down","ssid":"ALHN-8597-4","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"WPAand11i","basicEncryptionModes":"None","wpaEncryptionModes":"TKIPandAESEncryption","totalBytesReceived":"0","totalBytesSent":"0","maxBitRate":"Auto","channel":"2","channelMode":"Manual","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"5.0GHz","radioEnabled":true,"wifiIndex":"10","devices":[{"frequencyBand":"5.0GHz","ssid":"ALHN-8597-4","addressSource":"DHCP","hostName":"TVLG-25578673","ipAddress":"192.168.100.10","macAddress":"3b:22:f5:21:wd:k9","vendor":"","active":true}]}]}],"nass":{"hsiLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/210","voipLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/220"},"bng":{"ipAddress":"179.67.227.148","macAddress":"78:17:35:f9:01:d1"}}}}}},"Notification Diagnostic - state:FINISHED without code (diagnostic)":{"value":{"notification":{"customer":{"subscriberId":"SVTAL001"},"serviceTest":{"id":"22119329-13de-41da-9255-eb3e1606b449","type":"diagnostic","startDate":"2023-05-24T14:55:24-03","endDate":"2023-05-24T14:58:28-03","state":"FINISHED","hintOperations":{"actions":[{"type":"Abrir Chamado Tecnico","hintType'":"MANUAL"}]},"result":{"services":[{"perfil":"600 MBPS"}],"devices":[{"idGPON":"1-ONXK7","operationalState":"Up","administrativeState":"active","lastHour":"04/11/2022 00:47","vendor":"ALCL","model":"NOCLEICODEG1425GA","serialNumber":"ALCLFBD32300","firmwareVersion":"3FE48077HJIJ86","hardware":"3FE48054BDAA01","temperature":"37","ontPowerTx":"2.162","ontPowerRx":"-21.366"}],"wan":[{"physicalState":"Up","receivedBytes":"7413166343","sendBytes":"496095715","uptimeHGW":"276338","internalClient":""}],"lan":{"devices":[{"addressingType":"","hostName":"deco_M5","ipAddress":"192.168.100.50","interfaceType":"Ethernet","macAddress":"24:76:7d:8a:50:49","type":"","vendor":"Cisco SPVTG","active":false}],"gates":[{"port":"1","active":true,"status":"Up","receivedBytes":"872342342","sendBytes":"3123123"},{"port":"2","active":true,"status":"Down","receivedBytes":"872342342","sendBytes":"3123123"}]},"wifi":[{"vendor":"Huawei Technologies Co., Ltd.","model":"HG8245W5-6T","serialNumber":"48575443961E0C9F","firmware":"V5R019C30S050","hardware":"","wlanConfiguration":[{"enable":true,"status":"Down","ssid":"DESCUBRA","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"11i","basicEncryptionModes":"None","wpaEncryptionModes":"AESEncryption","totalBytesReceived":"1072","totalBytesSent":"2522","maxBitRate":"Auto","channel":"4","channelMode":"Auto","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"2.4GHz","radioEnabled":true,"wifiIndex":"1","devices":[{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"S20-de-Jose","ipAddress":"192.168.100.4","macAddress":"8a:61:a5:58:ed:b5","vendor":"Samsung Electronics Co.,Ltd","active":true},{"frequencyBand":"2.4GHz","ssid":"DESCUBRA","addressSource":"DHCP","hostName":"G60-LMF","ipAddress":"192.168.100.9","macAddress":"5a:44:b4:32:gh:w3","vendor":"","active":true}]},{"enable":true,"status":"Down","ssid":"ALHN-8597-4","ssidBCastEnabled":true,"macAddressControlEnabled":false,"basicAuthenticationMode":"None","beaconType":"WPAand11i","basicEncryptionModes":"None","wpaEncryptionModes":"TKIPandAESEncryption","totalBytesReceived":"0","totalBytesSent":"0","maxBitRate":"Auto","channel":"2","channelMode":"Manual","wpaAuthenticationMode":"PSKAuthentication","authentication":"","encryption":"","packetsDropped":"","packetsErrored":"","frequencyBand":"5.0GHz","radioEnabled":true,"wifiIndex":"10","devices":[{"frequencyBand":"5.0GHz","ssid":"ALHN-8597-4","addressSource":"DHCP","hostName":"TVLG-25578673","ipAddress":"192.168.100.10","macAddress":"3b:22:f5:21:wd:k9","vendor":"","active":true}]}]}],"nass":{"hsiLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/210","voipLineId":"RJ-LEB01-GALC GPON 1/1/01/03/1/1/1:1129/220"},"bng":{"ipAddress":"179.67.227.148","macAddress":"78:17:35:f9:01:d1"}}}}}}}}}},"responses":{"204":{"description":"No Content"},"400":{"description":"BadRequest"},"401":{"description":"Unauthorized"},"500":{"description":"ServerError"},"503":{"description":"Unavailable"},"504":{"description":"Timeout"}}}}},"components":{"schemas":{"control":{"type":"object","properties":{"type":{"type":"string","description":"Tipo da mensagem de retorno. (S - Sucesso, T - Erro Técnico, E - Erro)","enum":["S","T","E"],"maxLength":1},"message":{"type":"string","description":"Descrição da mensagem de retorno.","maxLength":250},"code":{"type":"string","description":"Codigo de Retorno.","maxLength":10}}},"serviceTestRequest":{"type":"object","properties":{"serviceTest":{"type":"object","required":["type"],"properties":{"type":{"type":"string","description":"Tipo do teste","maxLength":50,"enum":["diagnostic"]},"customer":{"$ref":"#/components/schemas/customerType"}}}}},"serviceTestResponse":{"type":"object","properties":{"control":{"$ref":"#/components/schemas/control"},"serviceTest":{"properties":{"id":{"type":"string","maxLength":40,"description":"Identificador da operação de Service Test"}}}}},"notificationEvent":{"$ref":"#/components/schemas/notificationType"},"serviceTestType":{"type":"object","required":["type"],"properties":{"id":{"type":"string","maxLength":40,"description":"Identificador da operação de Service Test"},"type":{"type":"string","description":"Tipo do teste","maxLength":50,"enum":["diagnostic"]},"startDate":{"type":"string","description":"Data de início do processamento da operação","maxLength":25},"endDate":{"type":"string","description":"Data de término do processamento da operação","maxLength":25},"state":{"type":"string","maxLength":30,"description":"Estado da operação.","enum":["IN_PROGRESS","FINISHED","NOT_FOUND","INTERNAL_FAULT","REJECTED","INVENTORY_FAULT"]},"diagnostic":{"$ref":"#/components/schemas/diagnosticType"},"hintOperations":{"$ref":"#/components/schemas/hintOperationsType"},"result":{"$ref":"#/components/schemas/resultType"}}},"customerType":{"type":"object","required":["subscriberId"],"properties":{"subscriberId":{"type":"string","description":"Número identificador do cliente","maxLength":30}}},"notificationType":{"properties":{"notification":{"type":"object","properties":{"customer":{"type":"object","properties":{"subscriberId":{"type":"string","description":"Número identificador do cliente","maxLength":15}}},"serviceTest":{"$ref":"#/components/schemas/serviceTestType"}}}}},"diagnosticType":{"type":"object","properties":{"code":{"type":"string","description":"Resultado do diagnostico completo","enum":["OK","NOK","''"],"maxLength":3},"messages":{"$ref":"#/components/schemas/messagesType"}}},"messagesType":{"type":"array","items":{"type":"object","properties":{"errorCode":{"type":"string","maxLength":50,"description":"Código do diagnóstico."},"description":{"type":"string","description":"Descrição do diagnóstico.","maxLength":200},"criticity":{"type":"number","description":"Criticidade do diagnóstico (0 - informativo, 1 - Alerta e 2 - crítico).","enum":[0,1,2],"maxLength":1}}}},"hintOperationsType":{"type":"object","properties":{"actions":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","description":"Tipo da ação a ser realizada","maxLength":200},"hintType":{"type":"string","description":"Descrição da ação","maxLength":100}}}}}},"resultType":{"type":"object","properties":{"services":{"$ref":"#/components/schemas/servicesType"},"orders":{"$ref":"#/components/schemas/ordersType"},"massiveIncidents":{"$ref":"#/components/schemas/massiveIncidentsType"},"devices":{"$ref":"#/components/schemas/devicesType"},"wan":{"$ref":"#/components/schemas/wanType"},"lan":{"$ref":"#/components/schemas/lanType"},"wifi":{"$ref":"#/components/schemas/wifiType"},"nass":{"$ref":"#/components/schemas/nassType"},"bng":{"$ref":"#/components/schemas/bngType"}}},"servicesType":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","description":"Tipo do serviço","maxLength":200},"perfil":{"type":"string","description":"Perfil do serviço","maxLength":200}}}},"ordersType":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Id da ordem","maxLength":20},"associatedDocument":{"type":"string","description":"Número do documento associado","maxLength":30}}}},"massiveIncidentsType":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Id do incidente","maxLength":20},"type":{"type":"string","description":"Tipo do incidente","maxLength":200},"promiseDate":{"type":"string","description":"Data promessa","maxLength":30},"communicationId":{"type":"string","description":"Id do comunicado","maxLength":255}}}},"wanType":{"type":"array","items":{"type":"object","properties":{"physicalState":{"type":"string","description":"Status atual da conexão wan","maxLength":255},"receivedBytes":{"type":"string","description":"Quantidade de Bytes recebidos","maxLength":255},"sendBytes":{"type":"string","description":"Quantidade de Bytes enviados","maxLength":255},"uptimeHGW":{"type":"string","description":"Tempo, em segundos, de atividade desde a última ativação do equipamento","maxLength":255},"internalClient":{"type":"string","description":"Identificador de Cliente Interno","maxLength":255}}}},"lanType":{"type":"array","items":{"type":"object","properties":{"devices":{"type":"array","items":{"type":"object","properties":{"addressingType":{"type":"string","description":"Tipo de enderecamento","maxLength":255},"hostName":{"type":"string","description":"Nome do Host do equipamento conectado na LAN","maxLength":255},"ipAddress":{"type":"string","description":"IP do equipamento conectado na LAN","maxLength":255},"interfaceType":{"type":"string","description":"Tipo da interface de conexão - Ethernet/wifi","maxLength":255},"macAddress":{"type":"string","description":"MAC do equipamento conectado na LAN","maxLength":255},"type":{"type":"string","description":"Tipo do equipamento","maxLength":255},"vendor":{"type":"string","description":"Fabricante do equipamento","maxLength":255},"active":{"type":"boolean","description":"Status atual do equipamento"}}}},"gates":{"type":"array","items":{"type":"object","properties":{"port":{"type":"string","description":"Identificação da porta LAN do equipamento ONT","maxLength":255},"active":{"type":"boolean","description":"Estado administrativo da porta LAN do equipamento ONT - true/false"},"status":{"type":"string","description":"Estado de uso/operacional da porta LAN do equipamento ONT - up/down","maxLength":255},"receivedBytes":{"type":"string","description":"Quantidade de Bytes recebidos","maxLength":255},"sendBytes":{"type":"string","description":"Quantidade de Bytes enviados","maxLength":255}}}}}}},"wifiType":{"type":"array","items":{"type":"object","properties":{"vendor":{"type":"string","description":"Fabricante da ONT (HDM)","maxLength":255},"model":{"type":"string","description":"Modelo da ONT (HDM)","maxLength":255},"serialNumber":{"type":"string","description":"Numero serial da ONT (HDM)","maxLength":255},"firmware":{"type":"string","description":"Firmware da ONT (HDM)","maxLength":255},"hardware":{"type":"string","description":"Identificador do hardware da ONT (HDM)","maxLength":255},"wlanConfiguration":{"type":"array","items":{"type":"object","properties":{"enable":{"type":"boolean","description":"Status do wifi","maxLength":5},"status":{"type":"string","description":"Status da rede","maxLength":255},"ssid":{"type":"string","description":"Identificador do wifi","maxLength":255},"ssidBCastEnabled":{"type":"boolean","description":"Status de visibilidade do ssid","maxLength":5},"macAddressControlEnabled":{"type":"boolean","description":"Status do controle de MAC Address","maxLength":5},"basicAuthenticationMode":{"type":"string","description":"Modos de autenticação","maxLength":255},"beaconType":{"type":"string","description":"Modo de criptografia da rede wifi","maxLength":255},"basicEncryptionModes":{"type":"string","description":"Modos de criptografia","maxLength":255},"wpaEncryptionModes":{"type":"string","description":"Modos de criptografia de WPA","maxLength":255},"totalBytesReceived":{"type":"string","description":"Total de bytes recebidos","maxLength":255},"totalBytesSent":{"type":"string","description":"Total de bytes enviados","maxLength":255},"maxBitRate":{"type":"string","description":"Limite de bitrate","maxLength":255},"channel":{"type":"string","description":"Canal do wifi","maxLength":255},"channelMode":{"type":"string","description":"Modo do canal","maxLength":255},"wpaAuthenticationMode":{"type":"string","description":"Modos de autenticação WPA","maxLength":255},"authentication":{"type":"string","description":"Autenticação","maxLength":255},"encryption":{"type":"string","description":"Criptografia","maxLength":255},"packetsDropped":{"type":"string","description":"Indicador de queda de pacotes de rede","maxLength":255},"packetsErrored":{"type":"string","description":"Indicador de pacotes de rede com erro","maxLength":255},"frequencyBand":{"type":"string","description":"Frequência da rede wifi","maxLength":255},"radioEnabled":{"type":"boolean","description":"Indicador do status do wifi","maxLength":5},"wifiIndex":{"type":"string","description":"Indicador de index da rede wifi","maxLength":25},"devices":{"type":"array","items":{"type":"object","properties":{"frequencyBand":{"type":"string","description":"Frequencia da banda","maxLength":255},"ssid":{"type":"string","description":"Identificador/nome da rede wifi","maxLength":255},"addressSource":{"type":"string","description":"Origem do IP (fixo ou dinamico/DHCP)","maxLength":255},"hostName":{"type":"string","description":"Nome do Host do equipamento conectado","maxLength":255},"ipAddress":{"type":"string","description":"Endereço IP do equipamento conectado","maxLength":255},"macAddress":{"type":"string","description":"MAC do equipamento conectado","maxLength":255},"vendor":{"type":"string","description":"Fabricante do equipamento conectado","maxLength":255},"active":{"type":"boolean","description":"Status do equipamento conectado"}}}}}}}}}},"nassType":{"type":"object","properties":{"hsiLineId":{"type":"string","description":"Identificador do LineID do HSI(banda larga)","maxLength":255},"voipLineId":{"type":"string","description":"Identificador do LineID do VOIP","maxLength":255}}},"bngType":{"type":"object","properties":{"ipAddress":{"type":"string","description":"Endereço IP no roteador de borda(bng)","maxLength":55},"macAddress":{"type":"string","description":"Endereço MAC no roteador de borda(bng)","maxLength":55}}},"devicesType":{"type":"array","items":{"type":"object","properties":{"idGPON":{"type":"string","description":"Identificador do GPON","maxLength":255},"lastHour":{"type":"string","description":"Ultima hora de sincronismo do equipamento ONT","maxLength":255},"operationalState":{"type":"string","description":"Estado operacional do equipamento ONT","enum":["Up","Down"]},"administrativeState":{"type":"string","description":"Estado administrativo do equipamento ONT","enum":["active","inactive"]},"vendor":{"type":"string","description":"Fabricante do equipamento ONT","maxLength":255},"serialNumber":{"type":"string","description":"Numero serial do equipamento ONT","maxLength":255},"model":{"type":"string","description":"Modelo do equipamento ONT","maxLength":255},"firmwareVersion":{"type":"string","description":"Firmware do equipamento ONT","maxLength":255},"hardware":{"type":"string","description":"Identificador do hardware do equipamento ONT","maxLength":255},"temperature":{"type":"string","description":"Temperatura atual do equipamento ONT em grau celsius","maxLength":10},"vlans":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string","description":"Tipo da VLAN","maxLength":10},"svlan":{"type":"string","description":"Identificador da SVLAN","maxLength":10},"cvlan":{"type":"string","description":"Identificador da CVLAN","maxLength":10}}}},"oltPowerTx":{"type":"string","description":"Nivel TX da OLT","maxLength":10},"oltPowerRx":{"type":"string","description":"Nivel RX da OLT","maxLength":10},"ontPowerTx":{"type":"string","description":"Nivel TX da ONT","maxLength":10},"ontPowerRx":{"type":"string","description":"Nivel RX da ONT","maxLength":10},"ontRFPower":{"type":"string","description":"Nivel RF da ONT","maxLength":10},"hostname":{"type":"string","description":"hostname da OLT","maxLength":10}}}}},"responses":{"Success":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"S","code":"200","message":"OK"},"serviceTest":{"id":"22119329-13de-41da-9255-eb3e1606b449"}}}}},"BadRequest":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"E","code":"400","message":"Bad Request"}}}}},"Unauthorized":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"E","code":"401","message":"Unauthorized"}}}}},"Forbidden":{"description":"Forbidden - Scope Not Permitted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"examples":{"Invalid or expired credentials":{"value":{"control":{"type":"E","code":"403","message":"Forbidden - Scope Not Permitted"}}},"Unauthorized credentials":{"value":{"control":{"type":"E","code":"403","message":"Aplicação não autorizada ou não informada!"}}}}}}},"NotFound":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"E","code":"404","message":"Not Found"}}}}},"NotAcceptable":{"description":"Not Acceptable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"examples":{"Not Acceptable":{"value":{"control":{"type":"E","code":"406","message":"Not Acceptable"}}},"subscriberId not exist":{"value":{"control":{"type":"E","code":"406","message":"Not Acceptable (Identificador da instalação [subscriberId] inativo ou inexistente)"}}},"subscriberId already exist":{"value":{"control":{"type":"E","code":"406","message":"Not Acceptable (Identificador da instalação [subscriberId] já existente/instalado))"}}},"subscriberId in provisioning":{"value":{"control":{"type":"E","code":"406","message":"Not Acceptable (Identificador da instalação [subscriberId] em aprovisionamento)"}}}}}}},"TooManyRequests":{"description":"Too Many Requests - Exceeded Quota","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"E","code":"429","message":"Too Many Requests - Exceeded Quota"}}}}},"ServerError":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"T","code":"500","message":"Internal Server Error"}}}}},"Unavailable":{"description":"Service Unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"T","code":"503","message":"Service Unavailable"}}}}},"Timeout":{"description":"Gateway Timeout","content":{"application/json":{"schema":{"$ref":"#/components/schemas/control"},"example":{"control":{"type":"T","code":"504","message":"Gateway Timeout"}}}}}}}}